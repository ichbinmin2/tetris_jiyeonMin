(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],[,,,function(e,t,n){e.exports={makerBlue:"#478ED5",makerRed:"#ED4D41",makerBlack:"black",mediaQuery:"62rem",displayBox:"display_displayBox__1Gt-A",gameOverBox:"display_gameOverBox__2MGsf",span:"display_span__3TvUF",gameOver:"display_gameOver__1wH8y",blink:"display_blink__1pnd8"}},function(e,t,n){e.exports={makerModern:"#f1eee8",mediaQuery:"62rem",warp:"tetris_warp__1hA5g",container:"tetris_container__28C-0",boxContainer:"tetris_boxContainer__2McMX",displayBox:"tetris_displayBox__QSbHR"}},,function(e,t,n){e.exports={mediaQuery:"62rem",title:"header_title___zdfF",span:"header_span__3nZgJ",bop:"header_bop__sCAol",bopB:"header_bopB__3TMbP"}},,,function(e,t,n){e.exports={makerBlue:"#478ED5",makerBlack:"black",mediaQuery:"62rem",btnBox:"startButton_btnBox__3PaED",btn:"startButton_btn__2bZUi"}},,,,function(e,t,n){e.exports={playBoard:"playBoard_playBoard__iY9BH"}},,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(0),c=n.n(o),a=n(12),i=n.n(a),s=(n(24),n(25),n(26),n(2)),u=n(4),l=n.n(u),b=n(6),f=n.n(b),p=function(){return Object(r.jsxs)("div",{className:f.a.title,children:[Object(r.jsx)("span",{className:f.a.span,children:'"Tetris'}),Object(r.jsx)("span",{className:f.a.span,children:'Game"'})]})},d=n(3),j=n.n(d),x=function(e){var t=e.gameOver,n=e.text;return Object(r.jsx)("div",{className:j.a.display,children:t?Object(r.jsx)("div",{className:"".concat(j.a.displayBox," ").concat(j.a.gameOverBox),children:Object(r.jsx)("span",{className:"".concat(j.a.span," ").concat(j.a.gameOver),children:n})}):Object(r.jsx)("div",{className:j.a.displayBox,children:Object(r.jsx)("span",{className:j.a.span,children:n})})})},O=n(13),y=n.n(O),m=n(14);function v(){var e=Object(m.a)(["\n  box-sizing: border-box;\n  width: auto;\n  background-color: ",";\n  border: ",";\n  border-bottom-color: rgba(",", 0.1);\n  border-right-color: rgba(",", 1);\n  border-top-color: rgba(",", 1);\n  border-left-color: rgba(",", 0.3);\n"]);return v=function(){return e},e}var _=n(15).a.div(v(),(function(e){return 0===e.type?"none":"rgba(".concat(e.color,")")}),(function(e){return 0===e.type?"0px solid":"2px solid"}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color})),h=function(e){var t=e.type,n=e.color;return Object(r.jsx)(_,{type:t,color:n})},k=c.a.memo(h),B=function(e){var t=e.playBoard,n=e.color;return Object(r.jsx)("div",{className:y.a.playBoard,children:t.map((function(e){return e.map((function(e,t){return Object(r.jsx)(k,{type:e[0],color:n},t)}))}))})},g=n(9),E=n.n(g),N=function(e){var t=e.callback;return Object(r.jsx)("section",{className:E.a.btnBox,children:Object(r.jsx)("button",{className:E.a.btn,onClick:t,children:"GAME START!"})})},T=function(){return Array.from(Array(20),(function(){return new Array(10).fill([0,"fix"])}))},w=function(e,t,n){for(var r=n.x,o=n.y,c=0;c<e.blockType.length;c+=1)for(var a=0;a<e.blockType[c].length;a+=1)if(0!==e.blockType[c][a]&&(!t[c+e.position.y+o]||!t[c+e.position.y+o][a+e.position.x+r]||"fix"!==t[c+e.position.y+o][a+e.position.x+r][1]))return!0};var S=n(10),A={0:{shape:[[0]],color:"0, 0, 0"},block:{shape:[["O","O"],["O","O"]],color:{0:"233,142,163",1:"60,166,85",2:"241,207,40",3:"71,142,213",4:"237,77,65",5:"221,140,50"}}},C=function(){var e="012345",t=e[Math.floor(Math.random()*e.length)];return A.block.color[t]},M=function(e,t){var n=Object(o.useState)(T()),r=Object(s.a)(n,2),c=r[0],a=r[1],i=Object(o.useState)(0),u=Object(s.a)(i,2),l=u[0],b=u[1];return Object(o.useEffect)((function(){b(0);var n=function(n){var r=n.map((function(e){return e.map((function(e){return"fix"===e[1]?[0,"fix"]:e}))}));return e.blockType.forEach((function(t,n){t.forEach((function(t,o){0!==t&&(r[n+e.position.y][o+e.position.x]=[t,"".concat(e.bumped?"merge":"fix")])}))})),e.bumped?(t(),function(e){return e.reduce((function(t,n){return-1===n.findIndex((function(e){return 0===e[0]}))?(b((function(e){return e+1})),t.unshift(new Array(e[0].length).fill([0,"fix"])),t):(t.push(n),t)}),[])}(r)):r};a((function(e){return n(e)}))}),[e.bumped,e.position.y,e.position.x,e.blockType,t]),[c,a,l]},D=function(){var e=Object(o.useState)(null),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)(!1),i=Object(s.a)(a,2),u=i[0],b=i[1],f=function(){var e=Object(o.useState)({position:{x:0,y:0},blockType:A[0].shape,color:C(),bumped:!1}),t=Object(s.a)(e,2),n=t[0],r=t[1];return[n,function(e){var t=e.x,n=e.y,o=e.bumped;r((function(e){return Object(S.a)(Object(S.a)({},e),{},{position:{x:e.position.x=e.position.x+t,y:e.position.y=e.position.y+n},bumped:o})}))},Object(o.useCallback)((function(){r({position:{x:4,y:0},blockType:A.block.shape,color:C(),bumped:!1})}),[])]}(),d=Object(s.a)(f,3),j=d[0],O=d[1],y=d[2],m=M(j,y),v=Object(s.a)(m,3),_=v[0],h=v[1],k=function(e){var t=Object(o.useState)(0),n=Object(s.a)(t,2),r=n[0],c=n[1],a=Object(o.useState)(0),i=Object(s.a)(a,2),u=i[0],l=i[1],b=Object(o.useState)(0),f=Object(s.a)(b,2),p=f[0],d=f[1],j=[10,20,30,40,50,60,70,80,90,100],x=Object(o.useCallback)((function(){e>0&&(c((function(t){return t+j[e-1]*(u+1)})),d((function(t){return t+e})))}),[u,j,e]);return Object(o.useEffect)((function(){x()}),[x,e,r]),[r,c,p,d,u,l]}(v[2]),g=Object(s.a)(k,6),E=g[0],D=g[1],I=g[2],R=g[3],H=g[4],G=g[5],Q=Object(o.useRef)(),z=function(e){var t=function(){return{WIDTH:e.current.offsetWidth}},n=Object(o.useState)({WIDTH:0}),r=Object(s.a)(n,2),c=r[0],a=r[1];return Object(o.useEffect)((function(){var n=function(){a(t())};return e.current&&a(t()),window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[e]),c}(Q).WIDTH,L=function(e){w(j,_,{x:e,y:0})||O({x:e,y:0})},W=function(){I>10*(H+1)&&(G((function(e){return e+1})),c(1e3/(H+1)+200)),w(j,_,{x:0,y:1})?(j.position.y<1&&(b(!0),c(null)),O({x:0,y:0,bumped:!0})):O({x:0,y:1,bumped:!1})},J=function(e){var t=e.keyCode;u||(37===t?L(-1):39===t?L(1):40===t&&(c(null),W()))};return function(e,t){var n=Object(o.useRef)();Object(o.useEffect)((function(){n.current=e}),[e]),Object(o.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){clearInterval(e)}}}),[t])}((function(){W()}),n),Object(r.jsx)("section",{className:l.a.warp,role:"button",tabIndex:"0",onKeyDown:function(e){return J(e)},onKeyUp:function(e){var t=e.keyCode;u||40===t&&c(1e3)},onMouseMove:function(e){return function(e){var t=e.clientX;u||L(t<z-t?-1:1)}(e)},ref:Q,children:Object(r.jsxs)("div",{className:l.a.container,children:[Object(r.jsx)(p,{}),Object(r.jsxs)("div",{className:l.a.boxContainer,children:[Object(r.jsx)(B,{playBoard:_,color:j.color}),Object(r.jsxs)("div",{className:l.a.displayBox,children:[u?Object(r.jsx)("div",{className:l.a.display,children:Object(r.jsx)(x,{gameOver:u,text:"GAME OVER"})}):Object(r.jsxs)("div",{className:l.a.display,children:[Object(r.jsx)(x,{text:"SCORE : ".concat(E)}),Object(r.jsx)(x,{text:"ATTACK : ".concat(I)}),Object(r.jsx)(x,{text:"LEVEL : ".concat(H)})]}),Object(r.jsx)(N,{callback:function(){h(T()),c(1e3),y(),b(!1),D(0),R(0),G(0)}})]})]})]})})};var I=function(){return Object(r.jsx)(D,{})};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(I,{})}),document.getElementById("root"))}],[[29,1,2]]]);
//# sourceMappingURL=main.83698385.chunk.js.map